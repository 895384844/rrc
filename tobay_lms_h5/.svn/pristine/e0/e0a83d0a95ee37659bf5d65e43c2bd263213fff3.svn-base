function delSgwc(){$(".js-close-cart").on("click",function(){var e=$(this).parents(".js-item-cart").attr("cartid"),t=new Object;t.cartId=e,commonParm(t),console.log(t),jsonAjax(InterFace.delGwclist,t,delSigls)})}function delSigls(e){"200"==e.errCode?(console.log("单个删除购物车成功"),pdGwc()):"400"==e.errCode&&console.log("单个删除购物车失败")}function getCookieInfo(){if(console.log(void 0!==getCookie("addCart")&&"undefined"!==getCookie("addCart")&&""!==getCookie("addCart")&&null!==getCookie("addCart")),void 0!==getCookie("addCart")&&"undefined"!==getCookie("addCart")&&""!==getCookie("addCart")&&null!==getCookie("addCart")){var e=new Array,t=(e=JSON.parse(getCookie("addCart"))).length;$(".js-coures-num").text(t),$(".js-choice-num").text(t);var a=0,o="";$.each(e,function(e,t){o+='<div class="item clearfix js-item-cart" id="'+t.corId+'" data-price="'+t.curprice+'"><div class="item-1"><i class="js-check check"></i></div><div class="item-2 clearfix"><a href="lessonInfo_fee.html?id='+t.corId+'" target="_blank" class="img-box l"><img src="'+t.corImg+'" width="160" height="90"></a><dl class="l has-package"><a href=""lessonInfo_fee.html?id='+t.corId+'"" target="_blank"><dt>'+t.corname+'</dt></a><p class="package-item js-package-item"></p></dl></div><div class="item-3"><div class="price clearfix"> <em>￥</em><span>'+t.curprice+'</span></div></div><div class="item-4"><i class="js-close-cart">删除</i></div></div>',a+=Number(t.curprice)}),a=parseFloat(a).toFixed(2),$(".jsAltogether").text(a),$("#js-cart-body-table").prepend(o),cksomething(),$(".js-number-box-cart").show(),$(".cathasData").show(),loadig.hide("loadOrder")}else $("#cartBody .catNodata").show(),loadig.hide("loadOrder")}function cksomething(){$(".body-main .check").addClass("checked");var e=$("#js-cart-body-table").find(".item").length;$("#js-cart-body-table").find(".check").on("click",function(){$(this).toggleClass("checked");var t=parseFloat($(".jsAltogether").text()).toFixed(2),a=parseFloat($(this).parents(".item").attr("data-price")).toFixed(2),o=$("#js-cart-body-table").find(".checked").length;if(o<e?$(".js-check-all").removeClass("checked"):$(".js-check-all").addClass("checked"),0==$(this).hasClass("checked")){var s=parseFloat(t-a).toFixed(2);$(".jsAltogether").text(s),"0.00"==s?$(".js-go-confrim").addClass("disabled").attr("disabled","disabled"):$(".js-go-confrim").removeClass("disabled").removeAttr("disabled")}else{$(".js-go-confrim").removeClass("disabled").removeAttr("disabled");var i=parseFloat(Number(t)+Number(a)).toFixed(2);$(".jsAltogether").text(i)}$(".js-choice-num").text(o)}),$(".js-check-all").on("click",function(){if($(this).toggleClass("checked"),$("#js-cart-body-table").find(".check").toggleClass("checked"),0==$(this).hasClass("checked"))$(".jsAltogether").text("0.00"),$(".js-go-confrim").addClass("disabled").attr("disabled","disabled");else{$(".js-go-confrim").removeClass("disabled").removeAttr("disabled");var e=0;$.each($("#js-cart-body-table .item"),function(t,a){var o=Number($(a).attr("data-price")).toFixed(2);e=parseFloat(Number(e)+Number(o)).toFixed(2)}),$(".jsAltogether").text(e)}var t=$("#js-cart-body-table").find(".checked").length;$(".js-choice-num").text(t)})}loadig.load("loadOrder",1,"正在加载，请稍后..."),null==getCookie("token")||"undefined"==getCookie("token")||void 0==getCookie("token")||""==getCookie("token")?(getCookieInfo(),$(".js-myorderbtn0").show()):$(".js-myorderbtn1").show(),$(".js-go-confrim").on("click",function(){if(void 0==getCookie("token")||""==getCookie("token")||null==getCookie("token"))window.location.href="login.html";else if(0==$(this).hasClass("disabled")){var e=new Array;$.each($("#js-cart-body-table .js-item-cart"),function(t,a){1==$(a).find(".js-check").hasClass("checked")&&e.push($(a).attr("cartid"))});var t=e.join(",");addCookie("pickGoods",t,0),window.location.href="confirmorder.html?type=1"}});